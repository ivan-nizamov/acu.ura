<dl class="border-muted flex flex-col text-step-1 overflow-hidden rounded-xl border mt-2xl ">
  <div class="bg-muted p-s justify-center border-b border-muted flex">
    <dt class="text-step-2 font-bold">Program de Lucru</dt>
  </div>

  <div
  id="schedule-container"
  class="w-fit mx-auto p-m grid gap-x-s gap-y-1 [grid-template-columns:minmax(9ch,14ch)_1fr] items-baseline"
  data-endpoint="https://script.google.com/macros/s/AKfycbznyNFX0j0t23zZWU217vnAZBDaM0qTsXRSmztuH8BnN9C3-P7I3qfOEGoFXx20w14l8g/exec"

>
    <div class="animate-pulse text-step-2 font-bold col-span-2">Se incarca...</div>
  </div>
</dl>

<style>
  /* 1) Kill UA indent on <dd> and margins */
  #schedule-container dt,
  #schedule-container dd { margin: 0; }
  #schedule-container dd { margin-inline-start: 0; }

  /* 2) Right-align labels and paint a consistent colon */
  #schedule-container dt { text-align: right; }
  #schedule-container dt::after { content: ":"; margin-inline: .5ch 0; }

  /* 3) Make times align visually */
  #schedule-container dd { font-variant-numeric: tabular-nums; white-space: nowrap; }
</style>

<script>
  const container = document.getElementById("schedule-container");
  const endpoint = container?.dataset.endpoint;

  const renderHours = (hours) =>
    (hours || "")
      .split(" și ")
      .map(seg => seg.trim().replace(/\s*-\s*/g, "–"))
      .map(seg => `<span class="whitespace-nowrap">${seg}</span>`)
      .join('<span class="px-1">și</span>') || '<span class="opacity-70">Închis</span>';

  if (container && endpoint) {
    fetch(endpoint)
      .then(res => res.json())
      .then(({ data = [] }) => {
        container.innerHTML = data.map(({ day, hours }) => `
          <dt class="font-semibold">${day}</dt>
          <dd>${renderHours(hours)}</dd>
        `).join("");
      })
      .catch(() => {
        container.innerHTML =
          '<div class="text-red-500 text-step-2 font-bold col-span-2">Eroare... Reinnoiti pagina.</div>';
      });
  }
</script>
