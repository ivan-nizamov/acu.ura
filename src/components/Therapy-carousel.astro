---
import { Card, CardContent } from "@/components/starwind/card";
import {
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselNext,
  CarouselPrevious,
} from "@/components/starwind/carousel";
---

<div class="mx-auto w-full px-xl">
  <Carousel id="therapy-carousel" opts={{ align: "start", loop: true }}>
    <CarouselContent>
      <CarouselItem class="md:basis-1/3 lg:basis-1/3">
        <div class="p-1">
          <Card>
            <CardContent class="flex aspect-square items-center justify-center p-6 text-center">
              <h3><a href="#acupunctura-clasica-chineza">Acupunctura Clasică Chineză</a></h3>
            </CardContent>
          </Card>
        </div>
      </CarouselItem>
      <CarouselItem class="md:basis-1/3 lg:basis-1/3">
        <div class="p-1">
          <Card>
            <CardContent class="flex aspect-square items-center justify-center p-6 text-center">
              <h3><a href="#moxibustie">Moxibustie</a></h3>
            </CardContent>
          </Card>
        </div>
      </CarouselItem>
      <CarouselItem class="md:basis-1/3 lg:basis-1/3">
        <div class="p-1">
          <Card>
            <CardContent class="flex aspect-square items-center justify-center p-6 text-center">
              <h3><a href="#electroacupunctura">Electro-Acupunctură</a></h3>
            </CardContent>
          </Card>
        </div>
      </CarouselItem>
      <CarouselItem class="md:basis-1/3 lg:basis-1/3">
        <div class="p-1">
          <Card>
            <CardContent class="flex aspect-square items-center justify-center p-6 text-center">
              <h3><a href="#homeomezoterapie">Homeomezoterapie</a></h3>
            </CardContent>
          </Card>
        </div>
      </CarouselItem>
      <CarouselItem class="md:basis-1/3 lg:basis-1/3">
        <div class="p-1">
          <Card>
            <CardContent class="flex aspect-square items-center justify-center p-6 text-center">
              <h3><a href="#apipunctura">Apipunctura</a></h3>
            </CardContent>
          </Card>
        </div>
      </CarouselItem>
      <CarouselItem class="md:basis-1/3 lg:basis-1/3">
        <div class="p-1">
          <Card>
            <CardContent class="flex aspect-square items-center justify-center p-6 text-center">
              <h3><a href="#stimularea-punctelor-cu-magneti">Stimularea Punctelor cu Magneți</a></h3>
            </CardContent>
          </Card>
        </div>
      </CarouselItem>
      <CarouselItem class="md:basis-1/3 lg:basis-1/3">
        <div class="p-1">
          <Card>
            <CardContent class="flex aspect-square items-center justify-center p-6 text-center">
              <h3><a href="#biomagnetic-pair-therapy">Biomagnetic Pair Therapy</a></h3>
            </CardContent>
          </Card>
        </div>
      </CarouselItem>
      <CarouselItem class="md:basis-1/3 lg:basis-1/3">
        <div class="p-1">
          <Card>
            <CardContent class="flex aspect-square items-center justify-center p-6 text-center">
              <h3><a href="#terapii-complementare-integrate">Terapii Complementare Integrate</a></h3>
            </CardContent>
          </Card>
        </div>
      </CarouselItem>
      <CarouselItem class="md:basis-1/3 lg:basis-1/3">
        <div class="p-1">
          <Card>
            <CardContent class="flex aspect-square items-center justify-center p-6 text-center">
              <h3><a href="#apel-la-actiune">Află Ce Terapie Ți Se Potrivește</a></h3>
            </CardContent>
          </Card>
        </div>
      </CarouselItem>
    </CarouselContent>
    <CarouselPrevious />
    <CarouselNext />
  </Carousel>
</div>

<script>
  import Autoplay from "embla-carousel-autoplay";

  import { initCarousel } from "@/components/starwind/carousel";

  function initAutoplayCarousel() {
    const carouselElement = document.getElementById("therapy-carousel");
    if (!carouselElement) return;
    initCarousel(carouselElement, {
      plugins: [
        Autoplay({
          delay: 3000,
        }),
      ],
    });
  }

  initAutoplayCarousel();

  document.addEventListener("astro:after-swap", initAutoplayCarousel);
</script>
