@import "tailwindcss";
@import "tw-animate-css";
@plugin "@tailwindcss/forms";
@variant dark (&:where(.dark, .dark *));

@theme {
	--animate-accordion-down: accordion-down 0.2s ease-out;
	--animate-accordion-up: accordion-up 0.2s ease-out;

  --font-sans: "EB Garamond", ui-serif, Georgia, "Times New Roman", Times, serif;

	@keyframes accordion-down {
		from {
			height: 0;
		}
		to {
			height: var(--starwind-accordion-content-height);
		}
	}

	@keyframes accordion-up {
		from {
			height: var(--starwind-accordion-content-height);
		}
		to {
			height: 0;
		}
	}

  /* Spacing tokens mapped to dynamic fluid variables */
  --spacing-3xs: var(--space-3xs);
  --spacing-2xs: var(--space-2xs);
  --spacing-xs: var(--space-xs);
  --spacing-s: var(--space-s);
  --spacing-m: var(--space-m);
  --spacing-l: var(--space-l);
  --spacing-xl: var(--space-xl);
  --spacing-2xl: var(--space-2xl);
  --spacing-3xl: var(--space-3xl);

  /* One-up pair tokens for finer control */
  --spacing-3xs-2xs: var(--space-3xs-2xs);
  --spacing-2xs-xs: var(--space-2xs-xs);
  --spacing-xs-s: var(--space-xs-s);
  --spacing-s-m: var(--space-s-m);
  --spacing-m-l: var(--space-m-l);
  --spacing-l-xl: var(--space-l-xl);
  --spacing-xl-2xl: var(--space-xl-2xl);
  --spacing-2xl-3xl: var(--space-2xl-3xl);
}

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-info: var(--info);
	--color-info-foreground: var(--info-foreground);
	--color-success: var(--success);
	--color-success-foreground: var(--success-foreground);
	--color-warning: var(--warning);
	--color-warning-foreground: var(--warning-foreground);
	--color-error: var(--error);
	--color-error-foreground: var(--error-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-outline: var(--outline);

	--radius-xs: calc(var(--radius) - 0.375rem);
	--radius-sm: calc(var(--radius) - 0.25rem);
	--radius-md: calc(var(--radius) - 0.125rem);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 0.25rem);
	--radius-2xl: calc(var(--radius) + 0.5rem);
	--radius-3xl: calc(var(--radius) + 1rem);
}

@layer base {
	:root {
    --background: var(--color-stone-200);
    --foreground: var(--color-stone-950);
    --card: var(--color-white);
    --card-foreground: var(--color-stone-950);
    --popover: var(--color-white);
    --popover-foreground: var(--color-stone-950);
    --primary: var(--color-blue-700);
    --primary-foreground: var(--color-stone-50);
    --secondary: var(--color-fuchsia-700);
    --secondary-foreground: var(--color-stone-50);
    --muted: var(--color-stone-100);
    --muted-foreground: var(--color-stone-600);
    --accent: var(--color-stone-100);
    --accent-foreground: var(--color-stone-900);
    --info: var(--color-sky-300);
    --info-foreground: var(--color-sky-950);
    --success: var(--color-green-300);
    --success-foreground: var(--color-green-950);
    --warning: var(--color-amber-300);
    --warning-foreground: var(--color-amber-950);
    --error: var(--color-red-700);
    --error-foreground: var(--color-stone-50);
    --border: var(--color-stone-200);
    --input: var(--color-stone-200);
    --outline: var(--color-stone-400);
    --radius: 0.625rem;

    /* @link https://utopia.fyi/space/calculator?c=320,16,1.125,720,21,1,5,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,&g=s,l,xl,12 */

    /* Fluid spacing scale */
    --space-3xs: clamp(0.25rem, 0.2rem + 0.25vw, 0.3125rem);
    --space-2xs: clamp(0.5rem, 0.35rem + 0.75vw, 0.6875rem);
    --space-xs: clamp(0.75rem, 0.55rem + 1vw, 1rem);
    --space-s: clamp(1rem, 0.75rem + 1.25vw, 1.3125rem);
    --space-m: clamp(1.5rem, 1.1rem + 2vw, 2rem);
    --space-l: clamp(2rem, 1.5rem + 2.5vw, 2.625rem);
    --space-xl: clamp(3rem, 2.25rem + 3.75vw, 3.9375rem);
    --space-2xl: clamp(4rem, 3rem + 5vw, 5.25rem);
    --space-3xl: clamp(6rem, 4.5rem + 7.5vw, 7.875rem);

    /* One-up pairs */
    --space-3xs-2xs: clamp(0.25rem, -0.1rem + 1.75vw, 0.6875rem);
    --space-2xs-xs: clamp(0.5rem, 0.1rem + 2vw, 1rem);
    --space-xs-s: clamp(0.75rem, 0.3rem + 2.25vw, 1.3125rem);
    --space-s-m: clamp(1rem, 0.2rem + 4vw, 2rem);
    --space-m-l: clamp(1.5rem, 0.6rem + 4.5vw, 2.625rem);
    --space-l-xl: clamp(2rem, 0.45rem + 7.75vw, 3.9375rem);
    --space-xl-2xl: clamp(3rem, 1.2rem + 9vw, 5.25rem);
    --space-2xl-3xl: clamp(4rem, 0.9rem + 15.5vw, 7.875rem);

    /* @link https://utopia.fyi/type/calculator?c=360,18,1.2,1240,20,1.25,5,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
    --step--2: clamp(0.7813rem, 0.7736rem + 0.0341vw, 0.8rem);
    --step--1: clamp(0.9375rem, 0.9119rem + 0.1136vw, 1rem);
    --step-0: clamp(1.125rem, 1.0739rem + 0.2273vw, 1.25rem);
    --step-1: clamp(1.35rem, 1.2631rem + 0.3864vw, 1.5625rem);
    --step-2: clamp(1.62rem, 1.4837rem + 0.6057vw, 1.9531rem);
    --step-3: clamp(1.944rem, 1.7405rem + 0.9044vw, 2.4414rem);
    --step-4: clamp(2.3328rem, 2.0387rem + 1.3072vw, 3.0518rem);
    --step-5: clamp(2.7994rem, 2.384rem + 1.8461vw, 3.8147rem);

  }

  .dark {
    --background: var(--color-stone-950);
    --foreground: var(--color-stone-50);
    --card: var(--color-stone-900);
    --card-foreground: var(--color-stone-50);
    --popover: var(--color-stone-800);
    --popover-foreground: var(--color-stone-50);
    --primary: var(--color-blue-700);
    --primary-foreground: var(--color-stone-50);
    --secondary: var(--color-fuchsia-300);
    --secondary-foreground: var(--color-stone-950);
    --muted: var(--color-stone-800);
    --muted-foreground: var(--color-stone-400);
    --accent: var(--color-stone-700);
    --accent-foreground: var(--color-stone-100);
    --info: var(--color-sky-300);
    --info-foreground: var(--color-sky-950);
    --success: var(--color-green-300);
    --success-foreground: var(--color-green-950);
    --warning: var(--color-amber-300);
    --warning-foreground: var(--color-amber-950);
    --error: var(--color-red-800);
    --error-foreground: var(--color-stone-50);
    --border: --alpha(var(--color-stone-50) / 10%);
    --input: --alpha(var(--color-stone-50) / 15%);
    --outline: var(--color-neutral-500);
  }

	* {
		@apply border-border;
	}
	html {
		@apply bg-background text-foreground scheme-light dark:scheme-dark;
	}
	button {
		@apply cursor-pointer;
	}
}

@layer utilities {
	.text-step--2 {
		font-size: var(--step--2);
		line-height: 1.5;
	}

	.text-step--1 {
		font-size: var(--step--1);
		line-height: 1.45;
	}

	.text-step-0 {
		font-size: var(--step-0);
		line-height: 1.4;
	}

	.text-step-1 {
		font-size: var(--step-1);
		line-height: 1.35;
	}

	.text-step-2 {
		font-size: var(--step-2);
		line-height: 1.3;
	}

	.text-step-3 {
		font-size: var(--step-3);
		line-height: 1.2;
	}

	.text-step-4 {
		font-size: var(--step-4);
		line-height: 1.15;
	}

	.text-step-5 {
		font-size: var(--step-5);
		line-height: 1.1;
	}
}
